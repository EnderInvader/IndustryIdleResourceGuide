<!--Source Code from https://hanns.io/pi-->
<title>Industry Idle Resource Guide</title>
<style type="text/css" media="screen">
	body { background-color: #000 }
	body,td { font: .8em Gotham, Helvetica Neue, Helvetica, Arial Narrow, Arial; font-weight: 500; color: #666; padding: 0; margin: 0; }
	ul { list-style: none none; margin: 0; padding: 0; display: block; }
	
	a,a:link { color: #ffcc00; text-decoration: none; }
	
	td { padding: 4px 4px; text-align: center; border: 1px solid #111; border-width: 1px 0; }
	tr:last-child td { border-bottom-width: 0; }
	tr.header td { padding: 10px 4px; font-size: 1.5em; font-weight: 200; color: #aaa; }
	tr.header td i { font-size: .4em; font-weight: 200; font-style: normal; }

	.items li { margin: 5px 0px; }
	.items li.current span { text-shadow: 0px 0px 8px #79cef4; }
	.arrows li { margin: 5px 0px; color: #333; }
	.items li span { white-space: nowrap; cursor: pointer; background-color: rgba(0,0,0,0.75); border-radius: 3px; padding: 1px 4px; }
	
	tr.footer { display: none; }
/*
	tr.footer td { color: #111; }
	.p1 td,.p2 td,.p3 td,.p4 td,
	.p1,.p2,.p3,.p4 { font-weight: 900 !important; }
	.p1.current,.p2.current,.p3.current,.p4.current,
	.p1.current td,.p2.current td,.p3.current td,.p4.current td { color: red; }
*/
	#canvas { z-index: 1; display: block; position: absolute; left: 0; top: 0; background-color: transparent; }
	#pi { z-index: 2; border-collapse: collapse; position: relative; left: 0; top: 0; }

</style>
<body>
<table id="pi" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="header">
<td valign="top">Maps</td>
<td valign="top" colspan="3">Resources</td>
<td valign="top"></td>
<td valign="top" colspan="3">T1 Factories<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T1 Resources<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T2 Factories<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T2 Resources<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T3 Factories<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T3 Resources<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T4 Factories<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T4 Resources<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T5 Factories<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T5 Resources<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T6 Factories<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T6 Resources<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T7 Factories<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">T7 Resources<br></td>
<td valign="top"></td>
<td valign="top" colspan="3">Special<br></td>
</tr>
<tr>
<td class="items">
<ul id="maps">
<li>Stockholm</li>
<li>Oslo</li>
<li>St Petersburg</li>
<li>Rotterdam</li>
<li>Detroit</li>
<li>Toulouse</li>
<li>Rome</li>
<li>Hamburg</li>
<li>Boston</li>
<li>Osaka</li>
</ul>
</td>
<td colspan="3" class="items">
<ul id="resources">
<li class="stockholm oslo st-petersburg rotterdam detroit toulouse rome hamburg boston osaka">Iron</li>
<li class="stockholm oslo st-petersburg toulouse hamburg boston">Oil</li>
<li class="stockholm oslo st-petersburg rotterdam detroit toulouse rome hamburg boston osaka">Coal</li>
<li class="stockholm oslo st-petersburg rotterdam detroit toulouse rome hamburg boston osaka">Aluminum</li>
<li class="stockholm hamburg osaka">Copper</li>
<li class="stockholm oslo st-petersburg rotterdam detroit toulouse rome hamburg boston osaka">Silicon</li>
<li class="rotterdam rome chromium-alloy-plant">Chromium</li>
<li class="detroit toulouse rome boston osaka titanium-alloy-plant">Titanium</li>
<li class="st-petersburg toulouse">Uranium</li>
<li class="oslo rotterdam detroit rome boston">Gas</li>
<li class="detroit hamburg osaka">Lithium</li>
<li class="stockholm oslo st-petersburg rotterdam detroit toulouse rome hamburg boston osaka">Wood</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tf1">
<li class="wood">Lumber Mill</li>
<li class="wood">Paper Mill</li>
<li class="iron coal">Steel Mill</li>
<li class="null">Stainless Steel Plant</li>
<li class="oil">Oil Refinery</li>
<li class="null">Coal Gasification Plant</li>
<li class="gas">Gas Processing Plant</li>
<li class="uranium">Uranium Enrichment Plant</li>
<li class="silicon iron coal">Semiconductor Factory</li>
<li class="null">Integrated Circuit Fab</li>
<li class="aluminum coal iron">Battery Factory</li>
<li class="chromium steel">Titanium Alloy Plant</li>
<li class="lithium aluminum">Chromium Alloy Plant</li>
<li class="lithium">Liion Battery Factory</li>
<li class="silicon coal">Glass Factory</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tr1">
<li class="lumber-mill">Lumber</li>
<li class="paper-mill">Paper</li>
<li class="steel-mill">Steel</li>
<li class="oil-refinery">Petrol</li>
<li class="oil-refinery gas-processing-plant">Plastic</li>
<li class="uranium-enrichment-plant">Enriched Uranium</li>
<li class="semiconductor-factory">Semiconductor</li>
<li class="battery-factory liion-battery-factory">Battery</li>
<li class="glass-factory">Glass</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tf2">
<li class="semiconductor copper">Circuit Foundry</li>
<li class="plastic battery">Toy Factory</li>
<li class="plastic">Shoe Factory</li>
<li class="plastic paper">Clothing Factory</li>
<li class="battery aluminum semiconductor steel">Robot Factory</li>
<li class="glass plastic silicon">Screen Factory</li>
<li class="aluminum glass semiconductor plastic battery">Camera Factory</li>
<li class="steel aluminum plastic">Engine Factory</li>
<li class="steel plastic lumber">Gun Factory</li>
<li class="paper">Book Publisher</li>
<li class="plastic lumber">Guitar Factory</li>
<li class="plastic iron lumber">Drum Factory</li>
<li class="semiconductor">Polytechnic</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tr2">
<li class="circuit-foundry">IntegratedCircuit</li>
<li class="toy-factory">Toy</li>
<li class="shoe-factory">Shoes</li>
<li class="clothing-factory">Clothing</li>
<li class="robot-factory">Robot</li>
<li class="screen-factory">Screen</li>
<li class="camera-factory">Camera</li>
<li class="engine-factory">Engine</li>
<li class="gun-factory">Gun</li>
<li class="book-publisher">Book</li>
<li class="guitar-factory">Guitar</li>
<li class="drum-factory">Drum</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tf3">
<li class="shoes clothes">Fashion Factory</li>
<li class="toy shoes clothes">Santa Factory</li>
<li class="battery aluminum camera screen integrated-circuit plastic">Phone Factory</li>
<li class="battery aluminum screen integrated-circuit plastic">Computer Factory</li>
<li class="engine aluminum steel">Jet Engine Factory</li>
<li class="steel gun lumber">Artillery Factory</li>
<li class="engine steel semiconductor glass aluminum plastic battery lumber">Car Factory</li>
<li class="engine steel glass aluminum plastic lumber">Train Factory</li>
<li class="engine steel semiconductor glass aluminum plastic coal lumber">Shipyard</li>
<li class="engine steel glass aluminum plastic gun">Helicopter Factory</li>
<li class="engine steel lumber glass aluminum plastic">Zeppelin Factory</li>
<li class="guitar drum">Recording Studio</li>
<li class="book">School</li>
<li class="shoes clothes">Colosseum</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tr3">
<li class="fashion-factory">Fashion</li>
<li class="santa-factory">Santa</li>
<li class="phone-factory">Phone</li>
<li class="computer-factory">PC</li>
<li class="jet-engine-factory">Jet Engine</li>
<li class="artillery-factory">Artillery</li>
<li class="car-factory">Car</li>
<li class="train-factory">Train</li>
<li class="shipyard">Ship</li>
<li class="helicopter-factory">Helicopter</li>
<li class="zeppelin-factory">Zeppelin</li>
<li class="recording-studio">Music</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tf4">
<li class="camera fashion">Video Farm</li>
<li class="steel jet-engine semiconductor gun titanium uranium">Missile Factory</li>
<li class="pc integrated-circuit">Bitcoin Farm</li>
<li class="engine steel plastic artillery aluminum coal">Tank Factory</li>
<li class="pc robot jet-engine plastic steel glass aluminum titanium battery">Satellite Factory</li>
<li class="jet-engine steel titanium semiconductor glass aluminum plastic">Aircraft Factory</li>
<li class="phone pc toy">Game Studio</li>
<li class="phone pc book">Software Company</li>
<li class="music">Opera House</li>
<li class="fashion pc">University</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tr4">
<li class="video-farm">Video</li>
<li class="missile-factory">Missile</li>
<li class="bitcoin-farm">Bitcoin</li>
<li class="tank-factory">Tank</li>
<li class="satellite-factory">Satellite</li>
<li class="aircraft-factory">Aircraft</li>
<li class="game-studio">Game</li>
<li class="software-company">Software</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tf5">
<li class="bitcoin fashion toy">Dogecoin Farm</li>
<li class="steel semiconductor robot jet-engine missile titanium enriched-uranium">Rocket Factory</li>
<li class="engine steel lumber semiconductor glass missile enriched-uranium">Submarine Factory</li>
<li class="video pc camera fashion">Movie Studio</li>
<li class="game integrated-circuit plastic battery aluminum">Console Factory</li>
<li class="pc game software">Linux Distribution</li>
<li class="pc software video">Operating System Inc</li>
<li class="video pc camera fashion">TV Studio</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tr5">
<li class="dogecoin-farm">Dogecoin</li>
<li class="rocket-factory">Rocket</li>
<li class="submarine-factory">Submarine</li>
<li class="movie-studio">Movie</li>
<li class="console-factory">Console</li>
<li class="linux-distribution operating-system-inc">Operating System</li>
<li class="tv-studio">Sitcom</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tf6">
<li class="rocket steel integrated-circuit aluminum missile titanium glass enriched-uranium battery">Spaceship Factory</li>
<li class="operating-system software chromium">Web Browser</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tr6">
<li class="spaceship-factory">Spaceship</li>
<li class="web-browser">Internet</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tf7">
<li class="spaceship satellite rocket">Space Station Factory</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="tr7">
<li class="space-station-factory">Space Station</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="sp1">
<li class="polytechnic school university">Science</li>
<li class="colosseum book-publisher opera-house university">Culture</li>
</ul>
</td>
<td class="items"></td>
<td colspan="3" class="items">
<ul id="sp2">
<li class="science">Research Points</li>
<li class="culture">Policy Points</li>
</ul>
</td>
</tr>
<tr class="p1 footer">
<td></td>
<td></td>
<td>3000<i>u</i></td>
<td></td>
<td>&rarr;</td>
<td></td>
<td>20<i>u</i></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="p2 footer">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>40<i>u</i></td>
<td></td>
<td>&rarr;</td>
<td></td>
<td>5<i>u</i></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="p3 footer">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>10<i>u</i></td>
<td></td>
<td>&rarr;</td>
<td></td>
<td>3<i>u</i></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="p4 footer">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>40<i>u</i></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>6<i>u</i></td>
<td></td>
<td>&rarr;</td>
<td></td>
<td>1<i>u</i></td>
<td></td>
</tr>
<tr>
<td style="width: 8%;">&nbsp;</td>
<td style="width: 12%;">&nbsp;</td>
<td style="width: 4%;">&nbsp;</td>
<td style="width: 1%;">&nbsp;</td>
<td style="width: 1%;">&nbsp;</td>
<td style="width: 1%;">&nbsp;</td>
<td style="width: 4%;">&nbsp;</td>
<td style="width: 7%;">&nbsp;</td>
<td style="width: 1%;">&nbsp;</td>
<td style="width: 7%;">&nbsp;</td>
<td style="width: 7%;">&nbsp;</td>
<td style="width: 7%;">&nbsp;</td>
<td style="width: 1%;">&nbsp;</td>
<td style="width: 7%;">&nbsp;</td>
<td style="width: 7%;">&nbsp;</td>
<td style="width: 7%;">&nbsp;</td>
<td style="width: 1%;">&nbsp;</td>
<td style="width: 7%;">&nbsp;</td>
<td style="width: 4%;">&nbsp;</td>
<td style="width: 7%;">&nbsp;</td>
</tr>
</table>
<canvas id="canvas"></canvas>
<div style="position: fixed; bottom: 0; text-align: center; width: 100%;">
</div>
</body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script>
$(document).ready(function() {
	
	var colors = ["#54ffff","#492f1f","#763c19","#f7941d","yellow","#79cef4","#00aeef","lime","green","#304b15"];
	$(".items li").css({color:colors[0]});
	
	canvas();
	$(window).resize(function() { // todo: get event, only repaint on mouse release
		canvas();
	});

	// distribute before list to span
	$(".items ul li")
		.wrapInner($('<span />'))
		.each(function() {

			item = lower_case($(this).children("span").html());		// turn item name css compliant
			$(this).attr({ id: item });								// set li id as item name
			
			if ($(this).parents("ul").attr("id") != "maps") {		// maps has no before
				list = $(this).attr("class").split(/\s+/);			// get before items from li class
				for (i in list) {
					$("#"+list[i]+" span").addClass(item);			// find id with class, inject itself into span as class
				}
			}
		})
	$('.items')
		.on('mouseenter','ul li',function() {
			if (! $('#pi').hasClass('sticky')) {
				$(this).addClass("current");
				$(this).css({color:colors[5]});
				pi_link($(this));
			}
		})
		.on('mouseleave','ul li',function() {
			if (! $('#pi').hasClass('sticky')) {
				$(this).removeClass("current");
				$(".items li").css({color:colors[0]});
				canvas();
			}
		})
		.on('click','ul li',function() {
			
			if (!$(this).hasClass('current')) {
				$('#pi').removeClass('sticky')
			}
			
			if ($('#pi').hasClass('sticky')) {
				$('#pi').removeClass('sticky')
				
				$('.items li').removeClass('current').css({color:colors[0]});
			} else {
				$('#pi').addClass('sticky')
				
				$('.items li').removeClass('current').css({color:colors[0]});
				canvas();

				$(this).addClass("current");
				$(this).css({color:colors[5]});
				pi_link($(this));
			}
		})
		
		// $("ul#tr1").hover(function() { $(".p1").toggleClass("current"); });
		// $("ul#tr2").hover(function() { $(".p2").toggleClass("current"); });
		// $("ul#tr3").hover(function() { $(".p3").toggleClass("current"); });
		// $("ul#tr4").hover(function() { $(".p4").toggleClass("current"); });
	
	function lower_case(s) { return s.toLowerCase().replace(/ /g, '-').replace(/\./g, ''); }
	function pi_link(item) {
		pi_link_before(item,-1);
		pi_link_after(item,1);
	}
	function pi_link_before(item, degree, depth) {
		type   = item.parent("ul").attr("id");

		class_prefex = ".items li span.";
		$(".items li span."+item.attr("id"))
			.each(function() {
				$(this).parent("li").css({color: colors[5+degree]});
				if (degree > -4) {
					line(item.children("span"),$(this),colors[5+degree],colors[5+degree+1]);
				}
				pi_link_before($(this).parent("li"),degree-1);
			});
	}
	function pi_link_after(item, degree, depth) {
		type   = item.parent("ul").attr("id");
		
		$(".items li."+item.attr("id"))
			.each(function() {
				$(this).css({color: colors[5+degree]});
				if (degree < 3) {
					line($(this).children("span"),item.children("span"),colors[5+degree-1],colors[5+degree]);
				}
				pi_link_after($(this),degree+1);
			});
	}
	
	$("#disco").toggle(
		function() {
			$(this).text("Disco!");
		}
	,
		function() {
			$(this).text("Planets");
		}
	);
});
function canvas() {
	$("#canvas").attr({ 
		"height": $("#pi").outerHeight(),
		"width": $("#pi").outerWidth() 
	});
}
function line(a,b,c1,c2) {
	pad = 0;
	fx  = a.position().left + 4;
	fy  = a.position().top + a.height()/2 + 1;
	tx  = b.position().left + b.width() + 2;
	ty  = b.position().top + b.height()/2 + 1;

	var cvs = document.getElementById('canvas');
	var ctx = cvs.getContext('2d');

	ctx.lineWidth = 1;
	ctx.beginPath();
	ctx.moveTo(tx,ty);
	ctx.lineTo(fx,fy);
	ctx.globalAlpha = 0.5;

	var gdt = ctx.createLinearGradient( tx,ty, fx,fy );
	gdt.addColorStop(0, c1);
	gdt.addColorStop(1, c2);

	ctx.strokeStyle = gdt;
	ctx.stroke();

	ctx.font  = '10pt Arial';
	ctx.fillStyle = "#ff00ff";
	//drawLabel(ctx, "10", {x: tx, y: ty}, {x: fx, y: fy},"center",0)
}
function drawLabel( ctx, text, p1, p2, alignment, padding ){
  if (!alignment) alignment = 'center';
  if (!padding) padding = 0;

  var dx = p2.x - p1.x;
  var dy = p2.y - p1.y;   
  var p, pad;
  if (alignment=='center'){
    p = p1;
    pad = 1/2;
  } else {
    var left = alignment=='left';
    p = left ? p1 : p2;
    pad = padding / Math.sqrt(dx*dx+dy*dy) * (left ? 1 : -1);
  }

  ctx.save();
  ctx.textAlign = alignment;
  ctx.translate(p.x+dx*pad,p.y+dy*pad);
  ctx.rotate(Math.atan2(dy,dx));
  ctx.fillText(text,0,4);
  ctx.restore();
}


pi = {
	maps: ['Stockholm','Oslo','St. Petersburg','Rotterdam','Detroit','Toulouse','Rome','Hamburg','Boston','Osaka'],
	resources: ['Iron','Oil','Coal','Aluminum','Copper','Silicon','Chromium','Titanium','Uranium','Gas','Lithium','Wood'],
	productions: {
		tr1: ['Lumber','Paper','Steel','Petrol','Plastic','EnrichedUranium','Semiconductor','Battery','Glass'],
		tr2: ['IntegratedCircuit','Toy','Shoes','Clothing','Robot','Screen','Camera','Engine','Gun','Book','Guitar','Drum'],
		tr3: ['Fashion','Santa','Phone','PC','JetEngine','Artillery','Car','Train','Ship','Helicopter','Zeppelin','Music'],
		tr4: ['Video','Missile','Bitcoin','Tank','Satellite','Aircraft','Game','Software'],
		tr5: ['Dogecoin','Rocket','Submarine','Movie','Console','OperatingSystem'],
		tr6: ['Spaceship','Internet'],
		tr7: ['SpaceStation']
	},
	factories: {
		tf1: ['Lumber Mill','Paper Mill','Steel Mill','Stainless Steel Plant','Oil Refinery','Coal Gasification Plant','GasProcessingPlant','UraniumEnrichmentPlant','SemiconductorFactory','IntegratedCircuitFab','BatteryFactory','Titanium Alloy Plant','Chromium Alloy Plant','Liion Battery Factory','GlassFactory'],
		tf2: ['CircuitFoundry','ToyFactory','ShoeFactory','ClothingFactory','RobotFactory','ScreenFactory','CameraFactory','EngineFactory','GunFactory','Book Publisher','GuitarFactory','DrumFactory','Polytechnic'],
		tf3: [],
		tf4: [],
		tf5: [],
		tf6: [],
		tf7: ['SpaceStationFactory']
	},
	special: {
		sp1: ['Science','Culture'],
		sp2: ['ResearchPoints','PolicyPoints']
	}
}
</script>